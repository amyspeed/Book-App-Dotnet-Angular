<div class="add-book-container">
    <div *ngIf="showError" class="alert alert-danger">
        Book was not added to your library. Please try again.
    </div>
    <form [formGroup]="addBookForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="title" class="required">Title</label>
            <input formControlName="title" type="text" class="form-control" id="title" placeholder="Book title" />
        </div>
        <div class="alert alert-danger" *ngIf="addBookForm.controls['title'].invalid && 
            (addBookForm.controls['title'].dirty || addBookForm.controls['title'].touched)">
            <div *ngIf="addBookForm.controls['title'].errors.required">
                Book Title is required
            </div>
        </div>
        <div class="form-group">
            <label for="author" class="required">Author</label>
            <input formControlName="author" type="text" class="form-control" id="author" placeholder="Book author" />
        </div>
        <div class="alert alert-danger" *ngIf="addBookForm.controls['author'].invalid && 
        (addBookForm.controls['author'].dirty || addBookForm.controls['author'].touched)">
            <div *ngIf="addBookForm.controls['author'].errors.required">
                Book Author is required
            </div>
        </div>
        <div class="form-group">
            <label for="description" class="required">Description</label>
            <textarea formControlName="description" type="text" class="form-control" id="description"
                placeholder="Book description"></textarea>
        </div>
        <div class="alert alert-danger" 
            *ngIf="addBookForm.controls['description'].invalid && 
            (addBookForm.controls['description'].dirty || addBookForm.controls['description'].touched)">
            <div *ngIf="addBookForm.controls['description'].errors.required">
                Book Description is required
            </div>
            <div *ngIf="addBookForm.controls['description'].errors.minlength">
                Description needs to be at least 30 characters
            </div>
        </div>

        <div class="row">
            <div class="col-md-4 col-xs-4 col-sm-4">
                <div class="form-group">
                    <label for="dateStart">Date Start</label>
                    <input formControlName="dateStart" type="date" class="form-control" id="dateStart"
                        placeholder="Date Start" />
                </div>
            </div>
            <div class="col-md-4 col-xs-4 col-sm-4">
                <div class="form-group">
                    <label for="dateRead">Date Read</label>
                    <input formControlName="dateRead" type="date" class="form-control" id="dateRead"
                        placeholder="Date Read" />
                </div>
            </div>
            <div class="col-md-4 col-xs-4 col-sm-4">
                <div class="form-group">
                    <label for="rate">Rate</label>
                    <input formControlName="rate" type="number" min="0" max="5" class="form-control" id="rate"
                        placeholder="Rate" />
                </div>
            </div>
        </div>

        <button 
            class="btn btn-success"
            type="submit"
            [disabled]="addBookForm.pristine || addBookForm.invalid">
            Add
        </button>
        <button class="btn btn-default" [routerLink]="['/books']">Cancel</button>
    </form>
</div>